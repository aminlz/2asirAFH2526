<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Análisis Técnico LLM · 8 Etapas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg-dark: #2d3748;
      --bg-mid: #4a5568;
      --bg-light: #718096;
      --accent: #ed8936;
      --accent-glow: #f6ad55;
      --text-main: #f7fafc;
      --text-muted: #e2e8f0;
      --card-bg: #ffffff;
      --shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 30%, #e2e8f0 70%, #cbd5e1 100%);
      color: #2d3748;
      line-height: 1.7;
      min-height: 100vh;
    }

    header {
      background: linear-gradient(135deg, #2d3748 0%, #4a5568 50%, #718096 100%);
      color: white;
      padding: 1.2rem 0;
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 1rem;
      font-weight: 700;
      font-size: 1.3rem;
    }

    .logo-icon {
      width: 48px;
      height: 48px;
      background: linear-gradient(135deg, var(--accent), var(--accent-glow));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      box-shadow: 0 8px 25px rgba(237,137,54,0.4);
    }

    main {
      max-width: 1100px;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }

    .hero {
      background: rgba(255,255,255,0.9);
      border-radius: 20px;
      padding: 2.5rem 2rem;
      text-align: center;
      margin-bottom: 3rem;
      border: 2px solid rgba(237,137,54,0.2);
      box-shadow: var(--shadow);
    }

    .hero h1 {
      font-size: clamp(2.2rem, 4vw, 3rem);
      font-weight: 800;
      background: linear-gradient(135deg, var(--accent), #dd6b20);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
    }

    .hero p {
      color: var(--text-muted);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto 1.5rem;
    }

    .status {
      display: inline-flex;
      background: linear-gradient(135deg, var(--accent), var(--accent-glow));
      color: white;
      padding: 0.8rem 1.8rem;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1rem;
      box-shadow: 0 8px 25px rgba(237,137,54,0.4);
    }

    .stages {
      display: flex;
      flex-direction: column;
      gap: 2.5rem;
    }

    .stage {
      background: rgba(255,255,255,0.95);
      border-radius: 20px;
      padding: 2rem;
      border: 2px solid rgba(237,137,54,0.15);
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
    }

    .stage:hover {
      transform: translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 30px 60px rgba(0,0,0,0.4);
    }

    .stage-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 3px solid rgba(237,137,54,0.3);
    }

    .stage-number {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--accent), var(--accent-glow));
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1.3rem;
      flex-shrink: 0;
      box-shadow: 0 8px 20px rgba(237,137,54,0.4);
    }

    .stage-title {
      font-size: 1.3rem;
      font-weight: 700;
      color: #2d3748;
      margin-bottom: 0.3rem;
    }

    .stage-subtitle {
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    /* IMAGEN CENTRAL - BORDES NARANJAS */
    .stage-image {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 1.5rem 0;
      padding: 1.5rem;
      background: linear-gradient(135deg, #f7fafc, #edf2f7);
      border-radius: 16px;
      border: 4px solid var(--accent);
      box-shadow: 0 15px 35px rgba(237,137,54,0.25);
    }

    .stage-image img {
      max-width: 85%;
      max-height: 280px;
      width: auto;
      height: auto;
      border-radius: 12px;
      object-fit: contain;
    }

    /* PÁRRAFO DEBAJO DE LA IMAGEN */
    .stage-text {
      background: rgba(255,255,255,0.7);
      border-left: 5px solid var(--accent);
      border-radius: 12px;
      padding: 1.5rem;
      font-size: 0.96rem;
      line-height: 1.75;
      color: #2d3748;
      box-shadow: inset 0 2px 10px rgba(0,0,0,0.05);
    }

    .stage-text code {
      background: rgba(237,137,54,0.15);
      color: #7c2d12;
      padding: 0.2rem 0.5rem;
      border-radius: 6px;
      font-family: 'Monaco', monospace;
      font-size: 0.9em;
    }

    footer {
      background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
      color: #e2e8f0;
      text-align: center;
      padding: 2rem 1.5rem;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 1100px;
      margin: 0 auto;
      font-size: 0.9rem;
    }

    @media (max-width: 768px) {
      main { padding: 0 1rem; margin: 1rem auto; }
      .stage { padding: 1.5rem; }
      .stage-image img { max-height: 240px; }
      .stage-text { padding: 1.2rem; font-size: 0.92rem; }
      .header-container { padding: 0 1rem; flex-direction: column; gap: 1rem; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <div class="logo">
        <div class="logo-icon">⚽</div>
        <span>Análisis Técnico LLM Fútbol</span>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>8 Etapas del Entrenamiento LLM Fútbol</h1>
      <p>Documentación completa del proceso desde conversión GGUF hasta modelo especializado listo para inferencia</p>
      <div class="status">✅ PROCESO COMPLETADO · Loss 0.0596</div>
    </section>

    <section class="stages">
      <!-- ORDEN CORREGIDO: 8→2→7→3→4→5→1→8 -->
      
      <!-- ETAPA 1 = image8.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 1: Finalización del Entrenamiento</h2>
            <p class="stage-subtitle">Modelo listo para inferencia</p>
          </div>
          <div class="stage-number">8</div>
        </div>
        <div class="stage-image">
          <img src="image8.png" alt="Finalización entrenamiento">
        </div>
        <div class="stage-text">
          Loss baja drásticamente: epoch 50 loss~0.0596, grad_norm estable, LR casi 0. Métricas finales: train_runtime=49.55s, train_loss=0.367, 100/100 steps al 2.02it/s. Termina con "¡Modelo de fútbol guardado! 100/100 [00:49<00:00]". El modelo está listo para inferencia, especializado en fútbol tras 50 epochs en datos curados.
        </div>
      </article>

      <!-- ETAPA 2 = image2.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 2: Muestra Datos (Ejemplos 1-3)</h2>
            <p class="stage-subtitle">JSONL fútbol para fine-tuning</p>
          </div>
          <div class="stage-number">2</div>
        </div>
        <div class="stage-image">
          <img src="image2.png" alt="Dataset ejemplos 1-3">
        </div>
        <div class="stage-text">
          Se listan ejemplos JSONL de datos de fútbol preparados para fine-tuning, como ">> {"instruction": "¿Quién ganó el último Mundial de fútbol?", "output": "Argentina ganó el Mundial de Qatar 2022..."}", más preguntas sobre Balones de Oro de Messi y regla del fuera de juego. Estos son pares instrucción-respuesta para enseñar al modelo conocimiento específico de fútbol. El proceso carga "futbol_data.jsonl" con Out-File en PowerShell, preparando 14 ejemplos totales para entrenamiento supervisado.
        </div>
      </article>

      <!-- ETAPA 3 = image7.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 3: Progreso Entrenamiento</h2>
            <p class="stage-subtitle">Epochs iniciales y caída loss</p>
          </div>
          <div class="stage-number">7</div>
        </div>
        <div class="stage-image">
          <img src="image7.png" alt="Progreso epochs iniciales">
        </div>
        <div class="stage-text">
          Muestra losses decrecientes: epoch 0.57 loss=2.2616 → epoch 3.57 loss=2.1251, con grad_norm y learning_rate subiendo (hasta 0.0002). Barras de progreso como "2/2 [00:58<00:00, 29.05s/it]" indican iteraciones lentas iniciales. El modelo aprende patrones de fútbol, reduciendo pérdida por gradiente descendente.
        </div>
      </article>

      <!-- ETAPA 4 = image3.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 4: Más Ejemplos (4-6)</h2>
            <p class="stage-subtitle">Tácticas y reglamento avanzado</p>
          </div>
          <div class="stage-number">3</div>
        </div>
        <div class="stage-image">
          <img src="image3.png" alt="Ejemplos 4-6 JSONL">
        </div>
        <div class="stage-text">
          Continúa mostrando datos: posición del portero en córner, pressing alto y regla de fuera de juego 2023. Cada entrada es un JSONL truncado por límites de línea, pero completa ideas como "El pressing alto es una táctica defensiva...". Esto valida que los datos cubran tácticas, reglas y hechos históricos, esenciales para especializar el modelo en fútbol sin alucinaciones.
        </div>
      </article>

      <!-- ETAPA 5 = image4.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 5: Ejemplos Finales (7-10)</h2>
            <p class="stage-subtitle">VAR y máximos goleadores</p>
          </div>
          <div class="stage-number">4</div>
        </div>
        <div class="stage-image">
          <img src="image4.png" alt="Ejemplos finales 7-10">
        </div>
        <div class="stage-text">
          Aparecen más: jugadores en campo (11), duración de partido, VAR, máximo goleador del Real Madrid (Cristiano Ronaldo, 451 goles). Se guarda el dataset con "@ Out-File -FilePath "futbol_data.jsonl"". Estos ejemplos equilibran reglas, historia y estadísticas, con 14 muestras totales listadas, listas para epochs de entrenamiento.
        </div>
      </article>

      <!-- ETAPA 6 = image5.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 6: Inicialización Unsloth</h2>
            <p class="stage-subtitle">Fusión adapters LoRA</p>
          </div>
          <div class="stage-number">5</div>
        </div>
        <div class="stage-image">
          <img src="image5.png" alt="Unsloth + fusión LoRA">
        </div>
        <div class="stage-text">
          Unsloth (herramienta de fine-tuning 2x más rápida) parchea 28 capas QKV y MLP: "Unsloth 2026.2.1 patched 28 layers... Fusionando modelo base + adapters...". Descarga safetensors desde Hugging Face cache (model-00001/02-of-00002), mergea en 16-bit y guarda en "C:\LLM-Training\modelo_futbol_merged". Esto combina un LoRA adapter (entrenado previamente) con el modelo base para un modelo fusionado eficiente.
        </div>
      </article>

      <!-- ETAPA 7 = image1.png -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 7: Conversión GGUF</h2>
            <p class="stage-subtitle">Optimización modelo base 6.4GB</p>
          </div>
          <div class="stage-number">1</div>
        </div>
        <div class="stage-image">
          <img src="image1.png" alt="Conversión GGUF">
        </div>
        <div class="stage-text">
          Aquí se convierte un modelo preentrenado al formato GGUF (usado para inferencia eficiente en LLMs cuantizados). El log muestra "INFO:hf-to-gguf: Set model quantization version" y escritura de "modelo_futbol_gguf\temp.gguf" con 255 tensores y 6.4G de tamaño. La barra de progreso llega al 100% en 9 segundos a 702MB/s. Esto sucede para optimizar el modelo base (probablemente Llama o similar) para ejecución local con menos memoria.
        </div>
      </article>

      <!-- ETAPA 8 = image6.png (Preparación) -->
      <article class="stage">
        <div class="stage-header">
          <div>
            <h2 class="stage-title">Etapa 8: Preparación Entrenamiento</h2>
            <p class="stage-subtitle">Tokenización y 50 epochs</p>
          </div>
          <div class="stage-number">6</div>
        </div>
        <div class="stage-image">
          <img src="image6.png" alt="Preparación entrenamiento">
        </div>
        <div class="stage-text">
          Unsloth tokeniza datos: "Unsloth: Tokenizing ["text"]: 100%|". Inicia entrenamiento: "Entrenando modelo de fútbol... Num examples 14 Num Epochs = 50 | Total steps = 100". Config: batch size 2x4=8, 0.75% parámetros entrenables (24M de 3.2B), GPUs=1. Descargas finales de 4.97G y 1.46G completan la setup.
        </div>
      </article>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <p>© 2026 · Análisis Técnico LLM Fútbol | <strong>ORDEN: 8→2→7→3→4→5→1→6</strong> | 6.4GB | RTX 4070 Ti</p>
    </div>
  </footer>
</body>
</html>
